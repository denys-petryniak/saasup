html {
  height: 100%;
}

body,
#__nuxt,
.layout {
  min-height: 100vh;
}

#__nuxt {
  padding: clamped($min-size: $spacing--2xl, $max-size: $spacing--8xl);
  overflow-x: hidden;
}

body {
  font-family: $font-family--primary;
  @include fluid-typography(
    $min-font-size: $font-size--lg,
    $max-font-size: $font-size--2xl,
    $min-line-height: $leading--normal,
    $max-line-height: $leading--relaxed
  );
  letter-spacing: 0.01em; // TODO: improve it, using rule "The bigger the text, the less space you need between each letter"
  color: $color--secondary--dark;
  overflow-x: hidden;
}

p,
li,
h1,
h2,
h3,
h4,
h5,
h6,
.button {
  // Help prevent overflow of long words/names/URLs
  overflow-wrap: break-word;
  // Adds a hyphen where the word breaks, if supported (No Blink)
  hyphens: auto;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin: $spacing--2xl 0;
  font-weight: $font--extrabold;
  text-wrap: balance;
  color: $color--secondary--extra-dark;
}

h1 {
  @include fluid-typography(
    $min-font-size: $font-size--4xl,
    $max-font-size: $font-size--7xl,
    $min-line-height: $leading--none,
    $max-line-height: $leading--tight
  );
}

h2 {
  @include fluid-typography(
    $min-font-size: $font-size--3xl,
    $max-font-size: $font-size--5xl,
    $min-line-height: $leading--tight,
    $max-line-height: $leading--condensed
  );
}

h3 {
  @include fluid-typography(
    $min-font-size: $font-size--2xl,
    $max-font-size: $font-size--3xl,
    $min-line-height: $leading--tight,
    $max-line-height: $leading--normal
  );
}

h4 {
  @include fluid-typography(
    $min-font-size: $font-size--2xl,
    $max-font-size: $font-size--3xl,
    $min-line-height: $leading--condensed,
    $max-line-height: $leading--snug
  );
}

p {
  margin: $spacing--2xl 0;

  &:empty {
    margin: 0;
  }
}

img {
  display: inline-block;
  vertical-align: middle;
  max-width: 100%;
  height: auto;
}

button {
  border: none;
  cursor: pointer;
}

a {
  text-decoration: none;
  color: $color--secondary--extra-dark;

  @media (hover: hover) {
    &:hover {
      color: $color-primary--light;
    }
  }
}

li {
  line-height: $leading--cozy;
}

.router-link-active:not(.button),
.router-link-exact-active:not(.button) {
  color: $color-primary--light !important;
}

@media (prefers-reduced-motion: no-preference) {
  :focus-visible {
    transition: outline-offset 0.75s ease-out;
  }

  :not(:active):focus-visible {
    transition: outline-offset 0.25s ease-out;
  }
}

:not(:active):focus-visible {
  outline-offset: 0.15rem;
  outline-color: rgba($color-primary--light, 0.5);
}

// Utilities

.border-debug {
  border: 1px dotted red;
}
